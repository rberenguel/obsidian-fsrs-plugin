.quiz-rating-container {
	margin-top: 15px; /* Space above the button group */
}

.quiz-rating-button {
	padding: 8px 15px;
	border: none;
	border-radius: 5px;
	cursor: pointer;
	font-weight: bold;
	color: #fdf6e3;
}

.quiz-rating-again {
	color: black !important;
	background-color: #dc322f !important;
}
.quiz-rating-hard {
	color: black !important;
	background-color: #b58900 !important;
}
.quiz-rating-good {
	color: black !important;
	background-color: #859900 !important;
}
.quiz-rating-easy {
	color: black !important;
	background-color: #268bd2 !important;
}

.quiz-rating-button:hover {
	opacity: 0.85;
}
.quiz-rating-button:focus {
	outline: 2px solid #586e75;
	outline-offset: 2px;
}

.quiz-modal-content .quiz-question {
	margin-bottom: 20px;
}

.quiz-modal-content .quiz-modal-title {
	margin-bottom: 15px;
}

/* Style for the clickable area if you keep it distinct */
.quiz-question-container {
	cursor: pointer;
	padding: 10px;
	border: 1px dashed var(--background-modifier-border);
	border-radius: 5px;
}

.quiz-question-container:hover {
	border-color: var(--interactive-accent);
}

.quiz-answer-container {
	padding: 10px;
	border: 1px dashed var(--background-modifier-border);
	border-radius: 5px;
	margin-top: 1em;
}

.quiz-actions-container {
	display: flex;
	justify-content: space-between;
	align-items: center;
	flex-wrap: wrap;
	margin-top: 1em;
}

.quiz-actions-left {
	display: flex;
	gap: 0.5em;
}

.quiz-action-button {
}

.rating-wrapper {
}

.rating-wrapper > button {
	margin-left: 0.2em;
}

.fsrs-cloze-rendered-content,
.fsrs-cloze-rendered-widget {
	background-color: #999; /* Or a specific color like #f0f0f0 for light themes, #303030 for dark */
	padding: 0.1em 0.3em; /* Small padding */
	border-radius: 3px; /* Slightly rounded corners */
	color: black;
	/* color: var(--text-normal); /* Ensure text color contrasts with new background if needed */
}

.fsrs-cloze-rendered-content::before,
.fsrs-cloze-rendered-widget::before {
	content: "? "; /* Adds a question mark emoji and a space */
	border-right: 1px solid black;
	background-color: #666;
	margin-right: 0.5em;
	/* You can adjust the styling of the pseudo-element itself if needed */
	/* For example, if the emoji size is off or color needs adjustment: */
	/* font-size: 0.9em; */ /* Adjust size if necessary */
	/* opacity: 0.7; */ /* Make it slightly less prominent */
	/* padding-right: 2px; */ /* Add a little space if the default space in content isn't enough */
}

/* TODO some styles are no longer used */

.fsrs-srs-capsule {
	display: inline-flex; /* Allows children to sit side-by-side */
	align-items: center; /* Vertically align icon and text if their heights differ */
	border-radius: 0.5em; /* Make it pill-shaped (adjust as needed) */
	overflow: hidden; /* Ensures child backgrounds don't bleed past rounded corners */
	font-style: normal; /* Override previous italic if any */
	line-height: 1.3; /* Adjust for better vertical centering with padding */
	margin-left: 0.5em;
	margin-right: 0.5em;
}

.fsrs-cloze-capsule {
	display: inline-flex; /* Allows children to sit side-by-side */
	align-items: center; /* Vertically align icon and text if their heights differ */
	border-radius: 0.5em; /* Make it pill-shaped (adjust as needed) */
	overflow: hidden; /* Ensures child backgrounds don't bleed past rounded corners */
	font-style: normal; /* Override previous italic if any */
	line-height: 1.3; /* Adjust for better vertical centering with padding */
	margin-left: 0.5em;
	margin-right: 0.5em;
}

/* Icon part of the capsule */
.fsrs-srs-capsule .fsrs-cloze-icon-part {
	background-color: #666; /* Example: Theme accent for icon background */
	color: black; /* Text color that contrasts with icon background */
	padding: 0.4em 0.5em 0.2em 0.5em;
	/* border-radius: 1em 0 0 1em; /* Round left side - handled by parent usually */
	font-size: 50%;
}

.fsrs-cloze-capsule .fsrs-cloze-icon-part {
	background-color: #666; /* Example: Theme accent for icon background */
	color: black; /* Text color that contrasts with icon background */
	padding: 0.4em 0.5em 0.2em 0.5em;
	/* border-radius: 1em 0 0 1em; /* Round left side - handled by parent usually */
}

.fsrs-cloze-text-part.has-icon {
	padding: 0.4em 0.5em 0.2em 0.5em;
}

/* Text part of the capsule */
.fsrs-srs-capsule .fsrs-cloze-text-part {
	background-color: #999; /* Example: Secondary background for text */
	color: black;
	padding: 0.4em 0.5em 0.2em 0.5em;
	font-size: 50%;
}

.fsrs-cloze-capsule .fsrs-cloze-text-part {
	background-color: #999; /* Example: Secondary background for text */
	color: black;
	padding: 0.3em 0.5em 0.3em 0.5em;
}

/* Remove underlines from links if they appear inside (Obsidian specific) */
.fsrs-cloze-capsule a.internal-link,
.fsrs-cloze-capsule a.external-link {
	text-decoration: none;
}

/* Optional: Hover effect for the whole capsule */
.fsrs-cloze-capsule:hover {
	filter: invert(0.8) sepia(0.5) hue-rotate(-30deg);
}

.fsrs-ribbon-icon {
	position: relative;
}

.ribbon-stats-badge {
	position: absolute;
	top: 2px;
	right: 2px;
	background-color: #c00;
	color: #ddd;
	font-size: 12px;
	font-weight: bold;
	padding: 1px;
	border-radius: 50%;
	min-width: 16px;
	min-height: 16px;
	text-align: center;
	line-height: 14px;
	box-sizing: border-box;
	z-index: 1;
}

#calendar-container .ribbon-stats-badge {
	position: unset;
	min-width: 24px;
}

/* Calendar view stuff */

.fsrs-calendar-badge {
	font-size: 0.4em;
	font-weight: bold;
	color: var(--text-muted);
	background-color: var(--background-modifier-border);
	padding: 2px 6px;
	border-radius: 5px;
	margin-left: 3px;
	vertical-align: middle;
	text-transform: uppercase;
}

.dot-red {
	fill: #c00 !important;
}

.dot-orange {
	fill: #c60 !important;
}

.dot-green {
	fill: #0c0 !important;
}

.dot-grey {
	fill: #ccc !important;
}

/* Custom capsule styling */

.fsrs-srs-style-end {
	margin-left: -0.1em;
}

/* Paragraph styling */

/*
 * FSRS Question Styling 
 */

/*
.fsrs-quiz-modal .modal-content {
    width: 60vw;
    max-width: 800px;
}*/

.fsrs-question-container {
	padding: 4px 8px !important;
	border-radius: 2px;
}

.fsrs-question-container.HyperMD-header.cm-line {
	margin-top: 0.2em !important;
	margin-bottom: 0.2em !important;
}

.theme-light .fsrs-question-container {
	background-color: rgba(0, 0, 50, 0.15);
}

.theme-dark .fsrs-question-container {
	background-color: rgba(255, 200, 200, 0.15);
}

@keyframes fill-timer-bar {
	from {
		width: 0%;
	}
	to {
		width: 100%;
	}
}

/* The container provides the background "track" for the timer */
.quiz-timer-container {
	background-color: var(--background-modifier-border);
	border-radius: 3px;
	margin-bottom: 12px;
}

/* The actual progressing bar */
.quiz-timer-bar {
	height: 3px;
	background-color: var(--color-accent);
	border-radius: 3px;

	/* Apply the smooth animation */
	animation-name: fill-timer-bar;
	animation-duration: 60s; /* The total time it takes to fill */
	animation-timing-function: linear; /* Constant speed */
	animation-fill-mode: forwards; /* Stay at 100% width when finished */
}

.quiz-header-container {
	display: flex;
	justify-content: space-between;
	align-items: center;
	gap: 16px; /* Adds space between timer and counter */
	margin-bottom: 12px;
}

.quiz-header-left {
	display: flex;
	align-items: center;
}

.quiz-link-icon {
	cursor: pointer;
	color: var(--text-muted);
	padding: 2px;
}

.quiz-link-icon:hover {
	color: var(--text-accent);
}

.quiz-timer-container {
	flex-grow: 1; /* Allows the timer to take up available space */
	margin-bottom: 0; /* Remove margin as it's now on the parent */
}

.quiz-counter {
	font-size: var(--font-ui-small);
	color: var(--text-muted);
}

/* Styling for the due items table in the calendar view */
.fsrs-due-table {
	width: 100%;
	margin-top: 1em;
	border-collapse: collapse;
	font-size: 80%;
}

.fsrs-due-table th,
.fsrs-due-table td {
	padding: 8px 12px;
	border: 1px solid var(--background-modifier-border);
	text-align: left;
}

.fsrs-due-table th {
	font-weight: bold;
	background-color: var(--background-secondary);
}

.fsrs-due-table tr:nth-child(even) {
	background-color: var(--background-primary-alt);
}

.fsrs-due-table a {
	text-decoration: none;
	color: var(--text-normal);
}

.fsrs-due-table a:hover {
	text-decoration: underline;
	color: var(--text-accent);
}

.fsrs-due-table-question {
	word-break: break-all;
}

.fsrs-question-browser-modal {
	height: 80vh;
	width: 90vw;
	max-width: 1400px;
}

.fsrs-question-browser-modal .modal-content {
	display: flex;
	flex-direction: column;
}

.question-browser-header {
	display: flex;
	flex-direction: column;
	align-items: stretch;
	margin-bottom: 1em;
}

.question-browser-top-row {
	display: flex;
	gap: 1em;
	margin-bottom: 0.5em;
}

.question-browser-header input[type="text"] {
	flex-grow: 1;
	margin-right: 0;
}

.question-browser-table-container {
	flex-grow: 1;
	overflow-y: auto;
	border: 1px solid var(--background-modifier-border);
}

.question-browser-modal table {
	width: 100%;
	border-collapse: collapse;
}

.question-browser-modal th,
.question-browser-modal td {
	padding: 8px;
	text-align: left;
	border-bottom: 1px solid var(--background-modifier-border);
}

.question-browser-modal th {
	cursor: pointer;
	user-select: none;
}

.question-browser-modal th:hover {
	background-color: var(--background-modifier-hover);
}

.question-browser-modal .hidden {
	display: none;
}

.fsrs-browser-q-col {
	max-width: calc(30vw);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.fsrs-browser-f-col {
	max-width: calc(10vw);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.fsrs-browser-t-col {
	max-width: calc(3vw);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.fsrs-browser-s-col {
	max-width: calc(3vw);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.fsrs-browser-d-col {
	max-width: calc(3vw);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.fsrs-reply-modal-textarea {
	width: 100%;
	margin-bottom: 1em;
	min-height: 6em;
}

.fsrs-similarity-sup {
	font-size: 60%;
}

@media (max-width: 768px) {
	.modal.fsrs-quiz-modal {
		max-width: 95vw;
		max-height: 90vh;
		width: auto;
		height: auto;
	}

	.fsrs-question-browser-modal {
		max-height: 80vh;
		max-width: 90vw;
		width: auto;
		height: auto;
	}

	.modal.fsrs-quiz-modal .quiz-modal-content {
		overflow-y: auto;
	}

	.quiz-rating-container {
		flex-wrap: wrap;
		justify-content: center;
	}

	.quiz-rating-button {
		margin: 3px;
		padding: 5px 8px;
		flex-grow: 1;
		font-size: 85%;
	}

	.quiz-actions-container {
		justify-content: center;
		gap: 1em;
	}

	.rating-wrapper {
		display: flex;
		justify-content: center;
		flex-wrap: wrap;
		width: 100%;
		gap: 0.5em;
	}
}

.fsrs-settings-table {
	width: 100%;
	border-collapse: collapse;
}

.fsrs-settings-table th,
.fsrs-settings-table td {
	border: 1px solid var(--background-modifier-border);
	padding: 8px;
	text-align: left;
}

.fsrs-settings-table th {
	background-color: var(--background-secondary);
}

.fsrs-settings-table input[type="text"] {
	width: 100%;
	box-sizing: border-box;
}

.fsrs-settings-table .setting-item-description {
	font-size: var(--font-ui-smaller);
	color: var(--text-muted);
}

.fsrs-settings-table .setting-item-control {
	width: 150px;
}

.fsrs-settings-table .setting-item-info {
	width: 100%;
}

.fsrs-settings-table .setting-item {
	display: flex;
	align-items: center;
	justify-content: space-between;
}

.fsrs-settings-table .setting-item-name {
	font-weight: bold;
}

.fsrs-settings-table .setting-item-description {
	margin-top: 4px;
}

.fsrs-settings-table .setting-item-control input {
	text-align: right;
}

.fsrs-modal-backdrop {
	position: fixed;
	top: 0;
	left: 0;
	width: 100vw;
	height: 100vh;
	background-color: rgba(0, 0, 0, 0.5);
	backdrop-filter: blur(3px);
	z-index: 1;
}
